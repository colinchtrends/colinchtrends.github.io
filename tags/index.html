---
layout: page
title: Tags
permalink: /tags/
---

{% assign tags_list = site.tags | sort %}

<div class="tag-index">
 <ul>
  {% for item in tags_list %}
  {% unless forloop.last %}
   <li>
    <a href="#{{ this_tag }}">
     <span>{{ this_tag }}</span>
     <span class="count">{{ site.tags[this_tag].size }}</span>
    </a>
   </li>
  {% endunless %}
  {% endfor %}
 </ul>
</div>

{% for item in (0..site.tags.size) %}
{% unless forloop.last %}
 {% capture this_tag %}{{ tags_list[item] | strip_newlines }}{% endcapture %}
 <article>

 <div class="tag-title" id="{{ this_tag }}">
  {{ this_tag }}
 </div>
  <ul>
  {% for post in site.tags[this_tag] %}
  {% if post.title != null %}
   <li class="tag-post">
    {% if post.link %}
    <a href="{{ post.link }}">
    {% else %}
    <a href="{{ post.url | prepend: site.baseurl }}">
    {% endif %}
     <span class="tag-post-title">{{ post.title }}</span>
    </a>
   </li>
  {% endif %}
  {% endfor %}
  </ul>
 </article>
{% endunless %}
{% endfor %}

<script>
  function search() {
    const searchInput = document.querySelector('#search-input');
    const searchResult = document.querySelector('#search-result');
    const searchTerm = searchInput.value.trim();
    if (searchTerm === '') {
      searchResult.innerHTML = '';
      return;
    }

    const posts = document.querySelectorAll('.tag-post');
    const filteredPosts = posts.filter(function(post) {
      return post.querySelector('.tag-post-title').textContent.includes(searchTerm);
    });

    searchResult.innerHTML = filteredPosts.map(function(post) {
      return `<li><a href="${post.querySelector('a').href}">${post.querySelector('.tag-post-title').textContent}</a></li>`;
    }).join('');
  }

  document.querySelector('#search-button').addEventListener('click', search);
</script>